# Основы

## HTTP

**HTTP** \(англ. HyperText Transfer Protocol — «протокол передачи [гипертекста](https://ru.wikipedia.org/wiki/%D0%93%D0%B8%D0%BF%D0%B5%D1%80%D1%82%D0%B5%D0%BA%D1%81%D1%82)»\) — [протокол](https://ru.wikipedia.org/wiki/%D0%A1%D0%B5%D1%82%D0%B5%D0%B2%D0%BE%D0%B9_%D0%BF%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB) [прикладного уровня](https://ru.wikipedia.org/wiki/%D0%9F%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB%D1%8B_%D0%BF%D1%80%D0%B8%D0%BA%D0%BB%D0%B0%D0%B4%D0%BD%D0%BE%D0%B3%D0%BE_%D1%83%D1%80%D0%BE%D0%B2%D0%BD%D1%8F) передачи данных изначально — в виде гипертекстовых документов в формате «[HTML](https://ru.wikipedia.org/wiki/HTML)», в настоящий момент используется для передачи произвольных данных. Основой HTTP является [технология «клиент-сервер»](https://ru.wikipedia.org/wiki/%D0%9A%D0%BB%D0%B8%D0%B5%D0%BD%D1%82-%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80), то есть предполагается существование:

* Потребителей \([клиентов](https://ru.wikipedia.org/wiki/%D0%9A%D0%BB%D0%B8%D0%B5%D0%BD%D1%82_%28%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%BD%D1%8B%D0%B9%29)\), которые инициируют соединение и посылают [запрос](https://ru.wikipedia.org/w/index.php?title=HTTP-%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81&action=edit&redlink=1);
* Поставщиков \([серверов](https://ru.wikipedia.org/wiki/%D0%A1%D0%B5%D1%80%D0%B2%D0%B5%D1%80_%28%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5%29)\), которые ожидают соединения для получения запроса, производят необходимые действия и возвращают обратно сообщение с результатом.

## Клиенты и серверы

Компьютеры, подключенные к сети называются клиентами и серверами. Упрощенная схема того, как они взаимодействуют, может выглядеть следующим образом:

![](../.gitbook/assets/image%20%286%29.png)

* Клиенты являются обычными пользователями, подключенными к Интернету посредством устройств \(например, компьютер подключен к Wi-Fi, или ваш телефон подключен к мобильной сети\) и программного обеспечения, доступного на этих устройствах \(как правило, браузер, например, Firefox или Chrome\).
* Серверы - это компьютеры, которые хранят веб-страницы, сайты или приложения. Когда клиентское устройство пытается получить доступ к веб-странице, копия страницы загружается с сервера на клиентский компьютер для отображения в браузере пользователя.

## Остальные части панели инструментов

Помимо клиента и сервера, мы также должны уделить внимание:

* **Ваше Интернет-подключение**: Позволяет отправлять и принимать данные по сети. 
* **TCP/IP**: Протокол Управления Передачей и Интернет Протокол являются коммуникационными протоколами, которые определяют, каким образом данные должны передаваться по сети. 
* **DNS**: Система Доменных Имён напоминает записную книжку для веб-сайтов. Когда вы вводите веб-адрес в своем браузере, браузер обращается к DNS, чтобы найти реальный адрес веб-сайта, прежде чем он сможет его получить. Браузеру необходимо выяснить, на каком сервере находится сайт, поэтому он может отправлять HTTP-сообщения в нужное место.
* **HTTP**: Протокол Передачи Гипертекста - это [протокол](https://developer.mozilla.org/ru/docs/%D0%A1%D0%BB%D0%BE%D0%B2%D0%B0%D1%80%D1%8C/%D0%9F%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB), который определяет язык для клиентов и серверов, чтобы общаться друг с другом. 
* **Файлы компонентов**: сайт состоит из нескольких различных файлов. Эти файлы бывают двух основных типов:
  * **Файлы кода**: сайты построены преимущественно на HTML, CSS и JavaScript.
  * **Материалы**: это собирательное название для всех других вещей, составляющих сайт, такие как изображения, музыка, видео, документы Word и PDF.

## Что же на самом деле происходит?

Когда вы вводите веб-адрес в свой браузер:

1. Браузер обращается к DNS серверу и находит реальный адрес сервера, на котором "живет" сайт.
2. Браузер посылает HTTP запрос к серверу, запрашивая его отправить копию сайта для клиента. Это сообщение и все остальные данные, передаваемые между клиентом и сервером, передаются по интернет-соединению с использованием протокола TCP/IP.
3. Если сервер одобряет запрос клиента, сервер отправляет клиенту статус "200 ОК", а затем начинает отправку файлов сайта в браузер в виде небольших порций, называемых пакетными данными.
4. Браузер собирает маленькие куски в полноценный сайт и показывает его вам.

## DNS

Реальные веб-адреса - неудобные, незапоминающиеся строки, которые Вы вводите в адресную строку, чтобы найти ваши любимые веб-сайты. Эти строки состоят из чисел, например: `63.245.215.20`.

Такой набор чисел называется [IP-адресом](https://developer.mozilla.org/ru/docs/%D0%A1%D0%BB%D0%BE%D0%B2%D0%B0%D1%80%D1%8C/IP_Address) и представляет собой уникальное местоположение в Интернете. Впрочем, его не очень легко запомнить, правда? Вот почему изобрели DNS. Это специальные сервера, которые связывают веб-адрес, который вы вводите в браузере с реальным IP-адресом сайта.

Сайты можно найти непосредственно через их IP-адреса. Вы можете найти IP-адрес веб-сайта, введя его домен в инструмент, как [IP Checker](https://ipinfo.info/html/ip_checker.php).

## Пакеты

В основном, когда данные передаются через Интернет, они отправляются в виде тысячи мелких кусочков, так что множество разных пользователей могут скачивать один и тот же сайт одовременно. Если бы сайты отправлялись одним большим куском, тогда бы только один пользователь мог скачать его за один раз, и это, очевидно, сделало бы пользование интернетом не эффективным и не очень радостным.

## Что такое веб-сервисы?

Веб-сервисы \(или веб-службы\) — это технология, позволяющая системам обмениваться данными друг с другом через сетевое подключение. Обычно веб-сервисы работают поверх протокола HTTP или протокола более высокого уровня. Веб-сервис — просто адрес, ссылка, обращение к которому позволяет получить данные или выполнить действие.

Главное отличие веб-сервиса от других способов передачи данных: стандартизированность. Приняв решение использовать веб-сервисы, можно сразу переходить к структуре данных и доступным функциям. Например, В SOAP \(как более строгом протоколе\), уже решён вопрос уведомления об ошибках.

Самые известные способы реализации веб-сервисов:

* [XML-RPC](https://ru.wikipedia.org/wiki/XML-RPC) \(XML Remote Procedure Call\) — протокол удаленного вызова процедур с использованием XML. Прародитель SOAP. Предельно прост в реализации.
* [SOAP ](soap.md)\(Simple Object Access Protocol\) — стандартный протокол по версии W3C. Четко структурирован и задокументирован.
* [JSON-RPC](https://ru.wikipedia.org/wiki/JSON-RPC) \(JSON Remote Procedure Call\) — более современный аналог XML-RPC. Основное отличие — данные передаются в формате JSON.
* [REST ](rest.md)\(Representational State Transfer\) — архитектурный стиль взаимодействия компьютерных систем в сети основанный на методах протокола HTTP.
* Специализированные протоколы для конкретного вида задач, такие как GraphQL.
* Менее распространенный, но более эффективный gRPC, передающий данные в бинарном виде и использующий HTTP/2 в качестве транспорта.

## Методы

HTTP определяет множество **методов запроса**, которые указывают, какое желаемое действие выполнится для данного ресурса. Несмотря на то, что их названия могут быть существительными, эти методы запроса иногда называются _HTTP глаголами_. Каждый реализует свою семантику, но каждая группа команд разделяет общие свойства: так, методы могут быть [безопасными](https://developer.mozilla.org/ru/docs/%D0%A1%D0%BB%D0%BE%D0%B2%D0%B0%D1%80%D1%8C/safe), [идемпотентными](https://developer.mozilla.org/ru/docs/%D0%A1%D0%BB%D0%BE%D0%B2%D0%B0%D1%80%D1%8C/idempotent) или [кэшируемыми](https://developer.mozilla.org/ru/docs/%D0%A1%D0%BB%D0%BE%D0%B2%D0%B0%D1%80%D1%8C/cacheable).

* Метод[`GET`](https://developer.mozilla.org/ru/docs/Web/HTTP/Methods/GET) запрашивает представление ресурса. Запросы с использованием этого метода могут только извлекать данные.
* [`HEAD`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/HEAD) запрашивает ресурс так же, как и метод GET, но без тела ответа.
* [`POST`](https://developer.mozilla.org/ru/docs/Web/HTTP/Methods/POST) используется для отправки сущностей к определённому ресурсу. Часто вызывает изменение состояния или какие-то побочные эффекты на сервере.
* [`PUT`](https://developer.mozilla.org/ru/docs/Web/HTTP/Methods/PUT) заменяет все текущие представления ресурса данными запроса.
* [`DELETE`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/DELETE) удаляет указанный ресурс.
* [`CONNECT`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/CONNECT) устанавливает "туннель" к серверу, определённому по ресурсу.
* [`OPTIONS`](https://developer.mozilla.org/ru/docs/Web/HTTP/Methods/OPTIONS) используется для описания параметров соединения с ресурсом.
* [`TRACE`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/TRACE)выполняет вызов возвращаемого тестового сообщения с ресурса.
* [`PATCH`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/PATCH) используется для частичного изменения ресурса.

